<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>List</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <div th:replace="base :: header"></div>
    <!--<style>-->
        <!--body {-->
            <!--background-color: darkgray;-->

            <!--/*background-image: url("data:image/jpeg;base64,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");*/-->
            <!--/*background-repeat: no-repeat;*/-->
        <!--}-->
    <!--</style>-->
</head>
<body>

<!--background="https://cdn.pixabay.com/photo/2018/03/21/10/00/aerial-3246120_960_720.jpg"; >-->

<div th:replace="base :: nav"></div>
<!--<div class="container" id="jumbo-container">-->
<!--<div class="jumbotron">-->
<!--<h1>this is title</h1>-->
<!--</div>-->
<!--</div>-->
<div class="container">
    <div class="jumbotron">
        <h2>Message</h2>
    </div>
    <table class="table table-borderless">
        <thead>
        <tr>
            <th>Title</th>
            <th>Content</th>
            <th>PostedDate</th>
            <th>PostedBy</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="message : ${messages}">
            <td th:text="${message.title}"></td>
            <td th:text="${message.content}"></td>
            <td th:text="${message.postedDate}"></td>
            <td th:text="${message.postedBy}"></td>
            <td>
                <div sec:authorize="hasAuthority('ADMIN')">
                    <span th:if="${user_id == message.user.id}">
                        <a th:href="@{/update/{id}(id=${message.id})}" class="btn btn-info" role="button">Update</a>
                        <a th:href="@{/delete/{id}(id=${message.id})}" class="btn btn-info" role="button">Delete</a>
                        <a th:href="@{/detail/{id}(id=${message.id})}" class="btn btn-info" role="button">Details</a>
                    </span>
                </div>

                <div sec:authorize="hasAuthority('USER')">
                    <span>
                        <a th:href="@{/detail/{id}(id=${message.id})}" class="btn btn-info" role="button">Details</a>
                    </span>

                </div>
                <div sec:authorize="isAnonymous()">
                    <span>
                        <a th:href="@{/detail/{id}(id=${message.id})}" class="btn btn-info" role="button">Details</a>
                    </span>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

    <!--<tbody>-->
    <!--<tr th:each="message : ${messages}">-->
    <!--<td th:text="${message.title}"></td>-->
    <!--<td>-->
    <!--<img th:src="${message.messagePic == null}?'':${message.messagePic}" style="height: auto; width: auto"  />-->
    <!--</td>-->
    <!--<td>-->
    <!--<span th:text="${message.postedBy}"></span>-->
    <!--</td>-->
    <!--<td th:text="${message.postedDate}"></td>-->
    <!--<td>-->
    <!--&lt;!&ndash; Anyone can see Details &ndash;&gt;-->
    <!--<a class="btn btn-warning" th:href="@{/detail/{id}(id=${message.id})}">Details</a>-->
    <!--&lt;!&ndash; Only the user that made the post can update &ndash;&gt;-->
    <!--<span th:if="${user_id == message.user.id}">-->
    <!--<a class="btn btn-warning" th:href="@{/update/{id}(id=${message.id})}">Update</a>-->
    <!--<a class="btn btn-danger" th:href="@{/delete/{id}(id=${message.id})}">Delete</a>-->
    <!--</span>-->
    <!--</td>-->
    <!--</tr>-->
    <!--</tbody>   -->
    <!---->




</div>

<div th:replace="base :: footer"></div>
</body>
</html>